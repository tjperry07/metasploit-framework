<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Metasploit Versions 4,5" />
  <title>About Meterpreter</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,300;1,400&display=swap" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <nav class="right">
    <ul>
      <li style="display: inline;"> <a href="https://github.com/rapid7/metasploit-framework/tree/master/documentation/modules">Module Docs</a></li>
      <li style="display: inline;"><a href="https://rapid7.github.io/metasploit-framework/api/">API</a></li>
    </ul>
  </nav>
</head>
<body>

<div id="main-outer-box">

<div id="my-header">
  <a href="../index.html">Metasploit Framework</a>
</div>

<div id="trunk-box">

<div id="nav-box">
<p>Contents:</p>
<ul>
<li><a href=".././markdown-cheat-sheet.html">Markdown Cheat Sheet</a></li>
<li>Getting-Started/
<ul>
<li><a href=".././Getting-Started/setting-up-metasploit-dev-enviroment.html">Setting up a Metasploit Developer Environment</a></li>
</ul></li>
<li>Utilities/
<ul>
<li><a href=".././Utilities/complier-windows-c.html">How to use Metasploit Framework Compiler Windows to compile C code</a></li>
<li><a href=".././Utilities/oracle-support-kali-linux.html">Oracle Support working with Kali Linux</a></li>
</ul></li>
<li>Modules/
<ul>
<li><a href=".././Modules/modules.html">Some stuff about modules</a></li>
<li>How-To/
<ul>
<li><a href=".././Modules/How-To/login-scanner.html">Create a Login Scanner Module</a></li>
<li><a href=".././Modules/How-To/http-login-scanner.html">How to write a HTTP LoginScanner Module</a></li>
</ul></li>
<li><a href=".././Modules/get-started-writing-post-module.html">Get started with writing a post module</a></li>
<li><a href=".././Modules/get-started-writing-auxillary-module.html">Get started with writing an auxiliary module</a></li>
<li><a href=".././Modules/module-reference-identifiers.html">Module Reference Identifiers</a></li>
</ul></li>
<li>Exploits/
<ul>
<li><a href=".././Exploits/writing-exploits.html">Get Started Writing an Exploit</a></li>
<li><a href=".././Exploits/exploit-ranking.html">Exploit Ranking</a></li>
</ul></li>
<li>Meterpreter/
<ul>
<li><strong>About Meterpreter</strong></li>
<li><a href="meterpreter-configuration.html">Meterpreter Configuration</a></li>
<li><a href="how-payloads-work.html">How Payloads Work</a></li>
<li><a href="transport-control.html">Transport Control</a></li>
<li><a href="debugging-dead-sessions.html">Debugging Dead Meterpreter Sessions</a></li>
<li><a href="payload-debugging.html">Payload Debugging</a></li>
</ul></li>
<li>Evasion-and-Obfuscation/
<ul>
<li><a href=".././Evasion-and-Obfuscation/obfuscation-crandomizer.html">Metasploit Framework</a></li>
</ul></li>
</ul>

</div>

<div id="article-box">

<div id="header-nav-bar">
<div><a href=".././Exploits/exploit-ranking.html">←prev</a></div><div class="nav-bar-push"><a href="meterpreter-configuration.html">next→</a></div>
</div>

<div id="article-content">
<header id="title-block-header">
<h1 class="title">About Meterpreter</h1>
<p class="author">Metasploit Versions 4,5</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#architecture">Architecture</a>
<ul>
<li><a href="#delivering-meterpreter">Delivering Meterpreter</a></li>
</ul></li>
</ul>
</nav>
<p>Meterpreter is an advanced payload that has been part of Metasploit since 2004. Originally written in C by Matt “skape” Miller, dozens of contributors have provided additional code, including implementations in PHP, Python, and Java. The payload continues to be frequently updated as part of Metasploit development.</p>
<p>Meterpreter development occurs in <a href="https://github.com/rapid7/metasploit-payloads">the metasploit-payloads repository</a> and the compiled results are published as part of the <a href="https://rubygems.org/gems/metasploit-payloads">metasploit-payloads gem</a>. For a detailed understanding of the Meterpreter architecture, please review the <a href="http://www.hick.org/code/skape/papers/meterpreter.pdf">original specification</a>.</p>
<p>Additional documentation about Meterpreter can be found on this wiki: * [[Meterpreter Reliable Network Communication]] * [[Meterpreter Transport Control]] * [[Meterpreter HTTP Communication]] * [[Meterpreter Timeout Control]] * [[Meterpreter Sleep Control]] * [[Meterpreter Stageless Mode]] * [[Meterpreter Unicode Support]] * [[Meterpreter Configuration]] * [[Payload UUID]]</p>
<p>Extension-specific documentation: * [[Python Extension]] * [[Powershell Extension]]</p>
<p>A wishlist of features is maintained at the [[Meterpreter Wishlist]] page.</p>
<p>Examples of specific use cases can also be found on this wiki: * [[Meterpreter Paranoid Mode]]</p>
<p>Those interested in the technical details of Meterpeter, along with rationale behind some of the implementations, should read the following: * [[The ins and outs of HTTP and HTTPS communications in Meterpreter and Metasploit Stagers]]</p>
<p>Got dead Meterpreter sessions? Read this: [[Debugging Dead Meterpreter Sessions]].</p>
<h1 id="architecture">Architecture</h1>
<p>To avoid confusion, the victim running meterpreter is always called the server and the ruby side controlling it is always called the client, regardless of the direction of the network transport connection.</p>
<p>The Meterpreter server is broken into several pieces: - <code>metsrv.dll</code> and <code>meterpreter.{jar,php,py}</code> - this is the heart of meterpreter where the protocol and extension systems are implemented. - <code>ext_server_stdapi.{dll,jar,php,py}</code> - this extension implements most of the commands familiar to users. - <code>ext_server_*.{dll,jar,php,py}</code> - other extensions provide further functionality and can be specific to particular environments.</p>
<h2 id="delivering-meterpreter">Delivering Meterpreter</h2>
<ol type="1">
<li>Using a technique developed by Stephen Fewer called Reflective DLL Injection (RDI), metsrv.dll’s header is modified to be usable as shellcode. From there, Metasploit can embed it in an executable or run it via an exploit like any other shellcode.</li>
</ol>

</div> <!-- article-content -->

<div id="footer-nav-bar">
<div><a href=".././Exploits/exploit-ranking.html">←prev</a></div><div class="nav-bar-push"><a href="meterpreter-configuration.html">next→</a></div>
</div>

</div> <!-- article-box -->

</div> <!-- trunk-box -->

<div id="my-footer">
<p>Copyright <a href="https://metasploit.com/">Metasploit</a>, 2020</p>
<p><a href="https://join.slack.com/t/metasploit/shared_invite/enQtOTMxMjg5ODY3NDYxLTYyZTVlNDM1ZTI3ZGQ0YTQ0NmI1YjgxMGEwYzFhOWNiZWQ4NDNmNTE1MWNiYzJhMzgwMGY0ZWY2NTY0MjA2M2I">Slack team - metasploit.slack.com</a></p>
<p><a href="https://twitter.com/metasploit">#twitter handle - @metasploit</a></p>
<p><a href="mailto:msfdev@metasploit.com">development questions - msfdev [ @ ] metasploit.com</a></p><br/>
<a href="about-meterpreter.md">Pandoc-Markdown source for this page</a><br/>
(Docs processed by
<a href="http://www.unexpected-vortices.com/sw/rippledoc/index.html">Rippledoc</a>.)
</div> <!-- my-footer -->

</div> <!-- main-outer-box -->

</body>
</html>
